// Translations and helpers
const TRANSLATIONS = {en:{welcome:'Welcome to Change-Agent Educators',mission_heading:'Our Mission',vision_heading:'Our Vision',core_obj:'Core Objectives'},fr:{welcome:'Bienvenue chez Change-Agent Educators',mission_heading:'Notre mission',vision_heading:'Notre vision',core_obj:'Objectifs principaux'},de:{welcome:'Willkommen bei Change-Agent Educators',mission_heading:'Unsere Mission',vision_heading:'Unsere Vision',core_obj:'Kernziele'},ar:{welcome:'مرحبًا بكم في Change-Agent Educators',mission_heading:'مهمتنا',vision_heading:'رؤيتنا',core_obj:'الأهداف الأساسية'}};
function setLang(lang){const t=TRANSLATIONS[lang]||TRANSLATIONS.en;document.querySelectorAll('[data-i18n]').forEach(el=>{const k=el.getAttribute('data-i18n');if(t[k]) el.innerText=t[k];});if(lang==='ar')document.body.dir='rtl';else document.body.dir='ltr';localStorage.setItem('lang',lang);}document.addEventListener('DOMContentLoaded',()=>{const lang=localStorage.getItem('lang')||'en';const sel=document.getElementById('lang');if(sel)sel.value=lang;setLang(lang);});
async function sendContact(name,email,subject,message){try{const res=await fetch('/api/send-email',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name,email,subject,message})});const j=await res.json();return j;}catch(e){return {error:e.message};}}
function analyticsTrack(ev,data={}){console.log('analytics',ev,data);}